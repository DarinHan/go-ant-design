{"ast":null,"code":"var _jsxFileName = \"D:\\\\SourceCode\\\\DirSearch\\\\antd-demo\\\\src\\\\DirTree.js\";\nimport { Tree } from 'antd';\nimport React from 'react';\nconst DirectoryTree = Tree.DirectoryTree;\nconst TreeNode = Tree.TreeNode;\n\nclass DirTree extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onSelect = (keys, event) => {\n      console.log('Trigger Select', keys, event);\n    };\n\n    this.onExpand = () => {\n      console.log('Trigger Expand');\n    };\n\n    this.rendersubfiles = function (subfile) {\n      if (subfile.SubFiles == null) {\n        return React.createElement(TreeNode, {\n          title: subfile.Name,\n          key: subfile.Name,\n          isLeaf: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        });\n      } else {\n        let subfilecontent = subfile.SubFiles.map((item, index) => {\n          rendersubfiles(item);\n        });\n        return React.createElement(TreeNode, {\n          title: subfile.Name,\n          key: subfile.Name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, subfilecontent);\n      }\n    };\n\n    var url = 'http://localhost:9898/dir?root=D:\\\\Tools';\n    fetch(url, {\n      mode: 'cors'\n    }).then(res => {\n      console.log('res' + res);\n      var t = this;\n      res.json().then(function (data) {\n        console.log(data);\n        t.setState({\n          dirinfo: data\n        });\n      });\n    });\n  }\n\n  render() {\n    if (this.state == null) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      });\n    }\n\n    let content = this.state.dirinfo.SubFiles.map((item, index) => {\n      return React.createElement(TreeNode, {\n        title: item.Name,\n        key: item.Name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      });\n    });\n    return React.createElement(DirectoryTree, {\n      multiple: true,\n      defaultExpandAll: true,\n      onSelect: this.onSelect,\n      onExpand: this.onExpand,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, content);\n  }\n\n}\n\nexport default DirTree;","map":{"version":3,"sources":["D:\\SourceCode\\DirSearch\\antd-demo\\src\\DirTree.js"],"names":["Tree","React","DirectoryTree","TreeNode","DirTree","Component","constructor","props","onSelect","keys","event","console","log","onExpand","rendersubfiles","subfile","SubFiles","Name","subfilecontent","map","item","index","url","fetch","mode","then","res","t","json","data","setState","dirinfo","render","state","content"],"mappings":";AAAA,SAASA,IAAT,QAAqB,MAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,aAAa,GAAGF,IAAI,CAACE,aAA3B;MACQC,Q,GAAaH,I,CAAbG,Q;;AAER,MAAMC,OAAN,SAAsBH,KAAK,CAACI,SAA5B,CAAsC;AAClCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAiBnBC,QAjBmB,GAiBR,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BH,IAA9B,EAAoCC,KAApC;AACH,KAnBkB;;AAAA,SAqBnBG,QArBmB,GAqBR,MAAM;AACbF,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACH,KAvBkB;;AAAA,SAyBnBE,cAzBmB,GAyBJ,UAASC,OAAT,EAAiB;AAC5B,UAAGA,OAAO,CAACC,QAAR,IAAkB,IAArB,EAA0B;AACtB,eAAO,oBAAC,QAAD;AAAU,UAAA,KAAK,EAAED,OAAO,CAACE,IAAzB;AAA+B,UAAA,GAAG,EAAEF,OAAO,CAACE,IAA5C;AAAkD,UAAA,MAAM,MAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACH,OAFD,MAEK;AACD,YAAIC,cAAc,GAACH,OAAO,CAACC,QAAR,CAAiBG,GAAjB,CAAqB,CAACC,IAAD,EAAMC,KAAN,KAAc;AAClDP,UAAAA,cAAc,CAACM,IAAD,CAAd;AACH,SAFkB,CAAnB;AAGA,eAAO,oBAAC,QAAD;AAAU,UAAA,KAAK,EAAEL,OAAO,CAACE,IAAzB;AAA+B,UAAA,GAAG,EAAEF,OAAO,CAACE,IAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACNC,cADM,CAAP;AAGH;AACJ,KApCkB;;AAEf,QAAII,GAAG,GAAG,0CAAV;AACAC,IAAAA,KAAK,CAACD,GAAD,EAAK;AAACE,MAAAA,IAAI,EAAE;AAAP,KAAL,CAAL,CAA0BC,IAA1B,CAA+BC,GAAG,IAAG;AACjCf,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAMc,GAAlB;AACA,UAAIC,CAAC,GAAC,IAAN;AACAD,MAAAA,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgB,UAAUI,IAAV,EAAgB;AAC5BlB,QAAAA,OAAO,CAACC,GAAR,CAAYiB,IAAZ;AACAF,QAAAA,CAAC,CAACG,QAAF,CAAW;AACPC,UAAAA,OAAO,EAAEF;AADF,SAAX;AAGH,OALD;AAMH,KATD;AAWH;;AA0BDG,EAAAA,MAAM,GAAG;AACL,QAAG,KAAKC,KAAL,IAAY,IAAf,EAAoB;AAChB,aAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAR;AACH;;AACD,QAAIC,OAAO,GAAI,KAAKD,KAAL,CAAWF,OAAX,CAAmBf,QAAnB,CAA4BG,GAA5B,CAAgC,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC5D,aAAQ,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAED,IAAI,CAACH,IAAtB;AAA4B,QAAA,GAAG,EAAEG,IAAI,CAACH,IAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAR;AAEH,KAHc,CAAf;AAIA,WACI,oBAAC,aAAD;AACI,MAAA,QAAQ,MADZ;AAEI,MAAA,gBAAgB,MAFpB;AAGI,MAAA,QAAQ,EAAE,KAAKT,QAHnB;AAII,MAAA,QAAQ,EAAE,KAAKK,QAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMKqB,OANL,CADJ;AAUH;;AA3DiC;;AA8DtC,eAAe9B,OAAf","sourcesContent":["import { Tree } from 'antd';\r\nimport React from 'react';\r\n\r\nconst DirectoryTree = Tree.DirectoryTree;\r\nconst { TreeNode } = Tree;\r\n\r\nclass DirTree extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        var url = 'http://localhost:9898/dir?root=D:\\\\Tools';\r\n        fetch(url,{mode: 'cors'}).then(res=> {\r\n            console.log('res'+res);\r\n            var t=this;\r\n            res.json().then(function (data) {\r\n                console.log(data);\r\n                t.setState({\r\n                    dirinfo: data\r\n                })\r\n            });\r\n        })\r\n\r\n    }\r\n\r\n\r\n    onSelect = (keys, event) => {\r\n        console.log('Trigger Select', keys, event);\r\n    };\r\n\r\n    onExpand = () => {\r\n        console.log('Trigger Expand');\r\n    };\r\n\r\n    rendersubfiles=function(subfile){\r\n        if(subfile.SubFiles==null){\r\n            return(<TreeNode title={subfile.Name} key={subfile.Name} isLeaf />);\r\n        }else{\r\n            let subfilecontent=subfile.SubFiles.map((item,index)=>{\r\n                rendersubfiles(item);\r\n            });\r\n            return(<TreeNode title={subfile.Name} key={subfile.Name}>\r\n            {subfilecontent}\r\n          </TreeNode>)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        if(this.state==null){\r\n            return (<div></div>);\r\n        }\r\n        let content =  this.state.dirinfo.SubFiles.map((item, index) => {\r\n            return (<TreeNode title={item.Name} key={item.Name}>\r\n            </TreeNode>)\r\n        });\r\n        return (\r\n            <DirectoryTree\r\n                multiple\r\n                defaultExpandAll\r\n                onSelect={this.onSelect}\r\n                onExpand={this.onExpand}\r\n            >\r\n                {content}\r\n            </DirectoryTree>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DirTree;"]},"metadata":{},"sourceType":"module"}